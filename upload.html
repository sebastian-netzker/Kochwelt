<html>

<head>
    <title> Kochwelt </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@100;300;400;500;600;700;800;900&amp;display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <style>
        form {
            display: flex;
            flex-direction: column;
        }

        .uploaddiv {
            margin-top: 130px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
    </style>
    <script>

        function createEntry(where, what, name) {

            let node = document.getElementById(where);
            let counter = node.childElementCount / 2 + 1;

            // Create Label

            let label = document.createElement('label');
            label.setAttribute('for', what + counter);
            label.innerText = name + ' ' + counter;

            // Create Input

            let input = document.createElement('input');
            input.setAttribute('type', 'text');
            input.setAttribute('name', what + counter);
            input.setAttribute('id', what + counter);

            // Append Label and Input

            node.appendChild(label);
            node.appendChild(input);

        }

        function form2object(form) {

            let object = {};
            for (let i = 0; i < form.length; i++) {
                object[form[i].id] = form[i].value
            }
            return object;

        }

        function form2nestedObject(form) {

            let object = {};
            let ingredients = {};
            let preparation = {};

            for (let i = 0; i < form.length; i++) {

                // Handle ingredients

                if (form[i].id.indexOf('ingredient') > -1) {
                    ingredients[form[i].id] = form[i].value;
                }

                // Handle preparation

                else if (form[i].id.indexOf('preparation') > -1 && form[i].id !== 'preparation_time') {
                    preparation[form[i].id] = form[i].value;
                }

                // Handle the rest

                else {
                    object[form[i].id] = form[i].value;
                }

            }

            object.ingredients = ingredients;
            object.preparation = preparation;

            return object;

        }

    </script>
</head>

<body>
    <div class="navigation-bar">

        <img class="logo" src="img/logo.png">

        <nav class="navigation-menu">

            <a href="index.html"> Start </a>&nbsp; | &nbsp;
            <a href="recepy.html"> Rezept des Tages</a>&nbsp; | &nbsp;
            <a href="upload.html"> Upload </a>&nbsp; | &nbsp;
            <a href="contact.html"> Kontakt </a>&nbsp; | &nbsp;
            <a href="imprint.html"> Impressum </a>&nbsp; | &nbsp;
        </nav>
    </div>
    <div class="uploaddiv">
        <h1>Rezept abschicken</h1>
        <form action="" id="recepyform" class="recepyform">
            <label for="recepy">Gib deinem Rezept einen Namen:</label>
            <input type="text" name="recepy" id="recepy">

            <label for="image">Füge ein Bild hinzu</label>
            <input type="file" name="image" id="image">
            <div id="ingredientlist">
                <label for="ingredient1">Zutat 1</label>
                <input type="text" name="ingredient1" id="ingredient1">
            </div>
            <input type="button" value="Zutat hinzufügen" onclick="createEntry('ingredientlist','ingredient','Zutat')">

            <span>Schwierigkeit:</span>
            <input type="radio" name="difficulty" id="difficulty_easy">
            <label for="difficulty_easy">Einfach</label>
            <input type="radio" name="difficulty" id="difficulty_intermediate">
            <label for="difficulty_intermediate">Mittel</label>
            <input type="radio" name="difficulty" id="difficulty_difficult">
            <label for="difficulty_difficult">Schwer</label>

            <label for="preparation_time">Zubereitungszeit in Minuten:</label>
            <input type="text" name="preparation_time" id="preparation_time">

            <label for="calories">Kalorien:</label>
            <input type="text" name="calories" id="calories">

            <label for="category">Kategorie</label>
            <input type="text" name="category" id="category">

            <label for="price">Preis</label>
            <input type="text" name="price" id="price">
            <div id="preparationlist">
                <label for="preparation1">Schritt 1</label>
                <input type="text" name="preparation1" id="ingredient1">
            </div>
            <input type="button" value="Schritt hinzufügen"
                onclick="createEntry('preparationlist','preparation','Schritt')">

            <label for="creator">Wie sollen wir dich nennen?</label>
            <input type="text" name="creator" id="creator">

            <input type="submit">
        </form>
    </div>
</body>

</html>